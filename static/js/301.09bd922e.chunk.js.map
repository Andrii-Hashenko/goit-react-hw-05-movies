{"version":3,"file":"static/js/301.09bd922e.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","services/movies-api.js","views/MovieDetailsView/MovieDetailsView.styled.js","components/SearchForm/Searchbar.styled.js","components/SearchForm/SearchForm.jsx","views/SearchMovieByName.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '900c3c2e823d6abe3929dac959f94e63';\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function getMovieBySearch(query) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?&query=${query}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`\n  );\n}\n\nexport function getCast(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function getReviews(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\nexport function GetTrending() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function getMoviesById(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n}\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nexport const CardMovie = styled.div`\n  display: flex;\n  margin-bottom: 10px;\n  /* border-bottom: 1px solid #2a363b; */\n`;\nexport const MovieInfo = styled.div`\n  display: block;\n  margin-left: 20px;\n`;\nexport const Horizontal = styled.div`\n  height: 12px;\n  border: 0;\n  box-shadow: inset 0 12px 12px -12px rgba(0, 0, 0, 0.5);\n`;\nexport const Titleh2 = styled.h2`\n  color: #2314f7;\n`;\nexport const Titleh3 = styled.h3`\n  color: #2314f7;\n`;\n\nexport const LinkElem = styled(NavLink)`\n  display: inline-block;\n  /* display: flex; */\n  text-decoration: none;\n  padding: 10px;\n  font-weight: 700;\n  color: #30ebfc;\n  font-size: 26px;\n  background: #fcfccf;\n  /* border: 5px solid #30ebfc; */\n  border-radius: 8px;\n  margin-right: 20px;\n  margin-bottom: 10px;\n  box-shadow: 0 0 10px 1px #30ebfc;\n\n  &.active {\n    /* composes: link; */\n    color: #2314f7;\n  }\n`;\n","import styled from 'styled-components';\nimport img from '../SearchForm/search.png';\n\nexport const Searchbar = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin: 10px;\n  max-width: 600px;\n  background-color: lightyellow;\n  border: 2px solid #30ebfc;\n  border-radius: 3px;\n  overflow: hidden;\n  box-shadow: 0 0 10px 1px #30ebfc;\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(${img});\n  background-color: #30ebfc;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  background-color: lightyellow;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport './Searchbar.styled.js';\nimport {\n  SearchForm,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  SearchFormInput,\n} from './Searchbar.styled';\n\nexport default function FormBySearch(props) {\n  const [searchMovie, setSearchMovie] = useState(props.searchMovie);\n\n  const handleChange = event => {\n    setSearchMovie(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchMovie.trim() === '') {\n      toast.error('Please enter your query');\n      return;\n    }\n    props.inSubmit(searchMovie);\n  };\n  return (\n    <SearchForm onSubmit={handleSubmit}>\n      <SearchFormButton type=\"submit\">\n        <SearchFormButtonLabel>Search</SearchFormButtonLabel>\n      </SearchFormButton>\n      <SearchFormInput\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={searchMovie}\n        onChange={handleChange}\n      />\n    </SearchForm>\n  );\n}\n\nFormBySearch.propTypes = {\n  searchMovie: PropTypes.string,\n  inSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport { NavLink, useLocation, useNavigate } from 'react-router-dom';\nimport { useSearchParams } from 'react-router-dom';\nimport FormBySearch from 'components/SearchForm/SearchForm';\nimport { toast } from 'react-toastify';\nimport * as movieAPI from '../services/movies-api';\n\nimport { Horizontal } from '../views/MovieDetailsView/MovieDetailsView.styled';\n\nexport default function SearchMovieByName() {\n  const [searchParams] = useSearchParams();\n\n  const [searchMovie, setSearchMovie] = useState(\n    searchParams.get('query') || ''\n  );\n  const [movies, setMovies] = useState([]);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  console.log('search:', location);\n\n  useEffect(() => {\n    if (!searchMovie) {\n      return;\n    }\n    movieAPI.getMovieBySearch(searchMovie).then(response => {\n      if (response.results.length === 0) {\n        return toast.info(\n          'Sorry, there are no movies matching your search query. Please try again.'\n        );\n      }\n      setMovies(response.results);\n    });\n  }, [searchMovie]);\n\n  const handleFormSubmit = searchMovie => {\n    navigate(`/movies/?query=${searchMovie}`);\n    setSearchMovie(searchMovie);\n    setMovies([]);\n  };\n  return (\n    <>\n      <FormBySearch inSubmit={handleFormSubmit} searchMovie={searchMovie} />\n      <Horizontal />\n      {movies && (\n        <ul>\n          {movies.map(movie => (\n            <NavLink to={`/movies/${movie.id}`} state={location} key={movie.id}>\n              <p>{movie.title}</p>\n            </NavLink>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Error","getMovieBySearch","query","getCast","movieId","getReviews","GetTrending","getMoviesById","CardMovie","styled","MovieInfo","Horizontal","Titleh2","Titleh3","LinkElem","NavLink","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","FormBySearch","props","useState","searchMovie","setSearchMovie","onSubmit","event","preventDefault","trim","inSubmit","toast","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","SearchMovieByName","useSearchParams","searchParams","get","movies","setMovies","navigate","useNavigate","location","useLocation","console","log","useEffect","movieAPI","results","length","map","movie","to","id","state","title"],"sourceRoot":""}